"use strict";// isikukood.js, https://github.com/dknight/Isikukood-js
var Isikukood=(()=>{var c=Object.defineProperty,d=Object.getOwnPropertyDescriptor,b=Object.getOwnPropertyNames,f=Object.prototype.hasOwnProperty,M=(i,t)=>{for(var e in t)c(i,e,{get:t[e],enumerable:!0})},m=(i,t,e,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of b(t))!f.call(i,o)&&o!==e&&c(i,o,{get:()=>t[o],enumerable:!(a=d(t,o))||a.enumerable});return i},y=i=>m(c({},"__esModule",{value:!0}),i),l={};M(l,{Gender:()=>s,default:()=>N});class N{constructor(t){this._code=String(t)}get code(){return this._code}set code(t){this._code=String(t)}getControlNumber(t=""){t||(t=this.code);const e=[1,2,3,4,5,6,7,8,9,1],a=[3,4,5,6,7,8,9,1,2,3];let o=0,n=0;for(let r=0;r<10;++r)n+=Number(t.charAt(r))*e[r];if(o=n%11,n=0,o===10){for(let r=0;r<10;++r)n+=Number(t.charAt(r))*a[r];o=n%11,o===10&&(o=0)}return o}validate(){if(this.code.charAt(0)==="0"||this.code.length!==11||this.getControlNumber()!==Number(this.code.charAt(10)))return!1;const e=Number(this.code.substring(1,3)),a=Number(this.code.substring(3,5)),o=Number(this.code.substring(5,7)),n=this.getBirthday();return e===n.getFullYear()%100&&n.getMonth()+1===a&&o===n.getDate()}getGender(){const t=this.code.charAt(0);let e;switch(t){case"1":case"3":case"5":e=s.MALE;break;case"2":case"4":case"6":e=s.FEMALE;break;default:e=s.UNKNOWN}return e}getAge(){return Math.floor((Date.now()-this.getBirthday().getTime())/864e5/365.25)}getBirthday(){let t=Number(this.code.substring(1,3));const e=Number(this.code.substring(3,5).replace(/^0/,""))-1,a=Number(this.code.substring(5,7).replace(/^0/,"")),o=this.code.charAt(0);for(let n=1,r=1800;n<=8;n+=2,r+=100)[n,n+1].map(String).includes(o)&&(t+=r);return new Date(t,e,a)}parse(t){return t||(t=this.code),{gender:this.getGender(),birthDay:this.getBirthday(),age:this.getAge()}}static generate(t={}){let e,a,o,n=t.gender||(Math.round(Math.random())===0?s.MALE:s.FEMALE),r="";const g=["00","01","02","22","27","37","42","47","49","52","57","60","65","70","95"];if(![s.MALE,s.FEMALE].includes(n))return"";if(t.birthYear?e=t.birthYear:e=Math.round(Math.random()*100+1900+(new Date().getFullYear()-2e3)),t.birthMonth?a=t.birthMonth:a=Math.floor(Math.random()*12)+1,t.birthDay)o=t.birthDay;else{const h=new Date(e,a,0).getDate();o=Math.floor(Math.random()*h)+1}for(let h=1800,u=2;h<=2100;h+=100,u+=2)if(e>=h&&e<h+100)switch(n){case s.MALE:r+=String(u-1);break;case s.FEMALE:r+=String(u);break;default:return""}return r+=String(e).substring(2,4),r+=String(a).length===1?`0${a}`:`${a}`,r+=String(o).length===1?`0${o}`:`${o}`,r+=g[Math.floor(Math.random()*g.length)],r+=String(Math.floor(Math.random()*10)),r+=String(this.prototype.getControlNumber(r)),r}}var s=(i=>(i.MALE="male",i.FEMALE="female",i.UNKNOWN="unknown",i))(s||{});return y(l)})();window.Isikukood=Isikukood.default;
//# sourceMappingURL=isikukood.min.js.map
